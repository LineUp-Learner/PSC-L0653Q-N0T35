/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var o=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var r=(s,i)=>{for(var t in i)o(s,t,{get:i[t],enumerable:!0})},p=(s,i,t,e)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of d(i))!h.call(s,n)&&n!==t&&o(s,n,{get:()=>i[n],enumerable:!(e=l(i,n))||e.enumerable});return s};var c=s=>p(o({},"__esModule",{value:!0}),s);var T={};r(T,{default:()=>g});module.exports=c(T);var a=require("obsidian"),m={resetToBeginning:!1},g=class extends a.Plugin{constructor(){super(...arguments);this.audioElements=[]}async onload(){await this.loadSettings(),this.registerDomEvent(document,"play",t=>{let e=t.target;e instanceof HTMLAudioElement&&(this.pauseOtherAudio(e),this.audioElements.includes(e)||this.audioElements.push(e))},!0),this.addSettingTab(new u(this.app,this))}onunload(){}async loadSettings(){this.settings=Object.assign({},m,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}pauseOtherAudio(t){this.audioElements.forEach(e=>{e!==t&&!e.paused&&(e.pause(),this.settings.resetToBeginning&&(e.currentTime=0))})}},u=class extends a.PluginSettingTab{constructor(t,e){super(t,e);this.plugin=e}display(){let{containerEl:t}=this;t.empty(),new a.Setting(t).setName("Reset to beginning").setDesc("When enabled, other audio clips will be reset to the beginning instead of just pausing.").addToggle(e=>e.setValue(this.plugin.settings.resetToBeginning).onChange(async n=>{this.plugin.settings.resetToBeginning=n,await this.plugin.saveSettings()}))}};

/* nosourcemap */